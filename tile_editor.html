<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√âditeur de Tuiles - Miner Quest</title>
    <link rel="stylesheet" href="css/game.css">
    <link rel="stylesheet" href="css/tile_editor.css">
</head>
<body>
    <div class="tile-editor-container">
        <div class="tile-editor-header">
            <h1>üé® √âditeur de Tuiles</h1>
            <div class="tile-editor-actions">
                <button id="btn-back-from-tile" class="btn-back">‚Üê Retour</button>
            </div>
        </div>

        <div class="tile-editor-content">
            <!-- Section liste des tuiles (gauche) -->
            <div class="tile-list-section">
                <h2>üìã Tuiles disponibles</h2>
                <div class="tile-tabs">
                    <button class="tab-btn active" data-filter="all">Toutes</button>
                    <button class="tab-btn" data-filter="default">D√©faut</button>
                    <button class="tab-btn" data-filter="custom">Personnalis√©es</button>
                </div>
                
                <div class="tiles-list-container">
                    <div id="tiles-list" class="tiles-list"></div>
                </div>
            </div>

            <!-- Section cr√©ation avec dessin (droite) -->
            <div class="tile-creator-section">
                <h2>üé® Cr√©er une tuile par dessin</h2>
                
                <!-- Informations de base -->
                <div class="form-group">
                    <label for="tile-name">Nom de la tuile:</label>
                    <input type="text" id="tile-name" placeholder="Ex: Marbre" maxlength="20">
                </div>

                <!-- Outils de dessin -->
                <div class="drawing-tools">
                    <h3>üñåÔ∏è Outils</h3>
                    <div class="tools-row">
                        <label>Taille du pinceau:</label>
                        <div class="brush-size-selector">
                            <div class="brush-size-box" data-size="1" title="1x1">
                                <div class="brush-preview size-1"></div>
                            </div>
                            <div class="brush-size-box active" data-size="2" title="2x2">
                                <div class="brush-preview size-2"></div>
                            </div>
                            <div class="brush-size-box" data-size="4" title="4x4">
                                <div class="brush-preview size-4"></div>
                            </div>
                        </div>
                    </div>

                    <div class="tools-buttons">
                        <button id="btn-undo-draw" class="btn-secondary">‚Ü∂ Annuler</button>
                        <button id="btn-new-tile" class="btn-secondary">‚ûï Nouvelle</button>
                        <button id="btn-add-tile" class="btn-success">üíæ Sauvegarder</button>
                    </div>
                </div>

                <!-- Canvas de dessin avec palette r√©cente et picker -->
                <div class="canvas-wrapper">
                    <div class="recent-colors-sidebar">
                        <h4>Couleurs r√©centes</h4>
                        <div id="recent-colors" class="recent-colors-grid"></div>
                    </div>
                    <div class="canvas-container">
                        <h3>üñºÔ∏è Grille de dessin (32x32)</h3>
                        <canvas id="pixel-canvas" width="512" height="512"></canvas>
                        <div class="canvas-info">Cliquez pour dessiner (x16 agrandissement)</div>
                    </div>
                    <div class="color-picker-sidebar">
                        <h4>üé® Palette</h4>
                        <input type="color" id="brush-color" value="#ffffff">
                        
                        <!-- Propri√©t√©s -->
                        <div class="tile-properties">
                            <h3>‚öôÔ∏è Propri√©t√©s</h3>
                            
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="tile-solid"> Solide
                                </label>
                            </div>

                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="tile-minable"> Mineable
                                </label>
                            </div>

                            <div class="form-group" id="resource-group" style="display: none;">
                                <label for="tile-resource">Ressource:</label>
                                <select id="tile-resource">
                                    <option value="">Aucune</option>
                                    <option value="stone">Pierre</option>
                                    <option value="iron">Fer</option>
                                    <option value="gold">Or</option>
                                    <option value="custom">Personnalis√©e</option>
                                </select>
                            </div>

                            <div class="form-group" id="durability-group" style="display: none;">
                                <label for="tile-durability">Durabilit√©:</label>
                                <input type="number" id="tile-durability" min="1" max="10" value="1">
                            </div>

                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="tile-interactive"> Interactive
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            
        </div>
    </div>

    <!-- Modal d'aper√ßu -->
    <div id="modal-tile-preview" class="modal-tile-preview">
        <div class="modal-tile-preview-content">
            <h2>Aper√ßu de la tuile</h2>
            <div class="preview-grid">
                <div id="preview-tile-display" class="preview-tile-display"></div>
            </div>
            <div class="preview-info">
                <p id="preview-name"></p>
                <p id="preview-properties"></p>
            </div>
            <button id="btn-close-preview" class="btn-primary">Fermer</button>
        </div>
    </div>

    <script src="js/tiles.js"></script>
    <script src="js/tile_editor.js"></script>
</body>
</html>
